package com.projektledelse.util;

import java.io.File;
import java.io.FileInputStream;

import org.hibernate.Criteria;
import org.hibernate.SessionFactory;
import org.hibernate.criterion.Restrictions;

import com.projektledelse.dao.AbstractDao;
import com.projektledelse.model.User;

public class AvatarImageToByte extends AbstractDao<Integer, User>{
	
	public static void main(String args[]){
	
		
		//save image into database
		File file = new File("C:\\mavan-hibernate-image-mysql.png");
	    byte[] bFile = new byte[(int) file.length()];
	    
	    try {
	     FileInputStream fileInputStream = new FileInputStream(file);
	     //convert file into array of bytes
	     fileInputStream.read(bFile);
	     fileInputStream.close();
	    } catch (Exception e) {
	     e.printStackTrace();
	    }
	    
	    User avatar = new User();
        avatar.setImage(bFile);
        
        User user = findBySSO("renan");
        
        //session.save(avatar);
		
		
	} //Fim do m√©todo main
	
	public User findBySSO(String sso) {
		Criteria crit = createEntityCriteria();
		crit.add(Restrictions.eq("ssoId", sso));
		return (User) crit.uniqueResult();
	}
}